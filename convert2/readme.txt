convert2.hs

變換前のテキスト -> test.txt
變換後のテキスト -> test.hs

變換の基本的構造
變換する行を 變換する部分と しない部分(タブなど)に分ける
變換する文字列のスペースをすべて取りのぞいた文字列をつくる
この文字列に converter2.txt で與へられた變換則を適用し 變換する
一行を構成しなおす
各行をまとめて ひとつの文字列にする(unlines)

變換則適用の詳細
converter2.txtで示された變換則は 各々の行において "="で分割された タプルとして認識される(makeTupple)
例) "a と b のおおきいはう = max a b" -> ("a と b のおおきいはう","max a b")
このタプルの第一要素に getKeys が適用され キーワードの部分と それ以外の部分に分かれたタプルができる
例) ("a と b のおおきいはう","max a b") -> (["と","のおおきいはう"],["a","b"])
このタプルの第一要素は getVerbList により取り出され 第二要素は getObjectList により取り出される
變換される文字列は まづ この第1要素と比較されて キーワードを含まない文字列のリストができる (matchKeys st (getVerbList x))
例) "3と4のおおきいはう" -> ["3","4"]
これと 先ほどのタプルの第二要素とを合成して 新たなタプルのリストをつくる
例) ["a","b"] ["3","4"] -> [("a","3"),("b","4")]
最後に converter2.txtから生成したタプルの第二要素の "a"や"b"にあたる部分を 上記のタプルリストの對應關係で變更していく
例) "max a b" -> ["max","a","b"] -> (makeString適用) -> max 3 4
この例では 變換後の文字列が "3"や"4"など そのまま出せるものだが その部分がさらに變換できる文字列の場合は
變換不能になるまで變換される
例) "2のつぎ と5のまへ のおきいはう" -> max (2のつぎ) (5のまへ) -> max (succ 2) (pred 3)

(2018/3/20)問題點
函數名の後 引数を記述するため スペースを入れると 變換後 スペースが失なはれてしまふといふ致命的バグ

(2018/3/20) ->
各行において "=" の左側は 變換則を使はないやうに修正し解決

convertLine tps (x:xs)を
convertLine tps li@(x:xs)とし
  | (["="] `isInfixOf`li) || (["は "] `isInfixOf` li) = ([x]++(convertLine tps xs))

と修正

(2018/3/20) ->
引数を含む函數を 自分で定義した場合 それを使用するときに  變換後の函數名と引数名の間にスペースが入らない といふ問題を一應解決
notJoinWords といふ函數をつくり 變換前に括弧でくくられてゐる部分は 單語をつなげないやうにした

